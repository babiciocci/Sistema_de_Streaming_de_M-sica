CREATE TABLE artistas (
    id SERIAL PRIMARY KEY,
    nome VARCHAR(100) NOT NULL,
    data_nascimento DATE NOT NULL
);

CREATE TABLE discos (
    id SERIAL PRIMARY KEY,
    titulo VARCHAR(100) NOT NULL,
    data_lancamento DATE NOT NULL,
    id_artista INT REFERENCES artistas(id)
);

CREATE TABLE musicas (
    id SERIAL PRIMARY KEY,
    titulo VARCHAR(100) NOT NULL,
    duracao INT NOT NULL,
    id_disco INT REFERENCES discos(id)
);

CREATE TABLE usuarios (
    id SERIAL PRIMARY KEY,
    nome VARCHAR(100) NOT NULL,
    email VARCHAR(100) UNIQUE NOT NULL,
    data_registro TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

CREATE TABLE playlists (
    id SERIAL PRIMARY KEY,
    titulo VARCHAR(100) NOT NULL,
    id_usuario INT REFERENCES usuarios(id)
);

CREATE TABLE musica_artista (
    id_musica INT REFERENCES musicas(id),
    id_artista INT REFERENCES artistas(id),
    PRIMARY KEY (id_musica, id_artista)
);

CREATE TABLE playlist_musica (
    id_playlist INT REFERENCES playlists(id),
    id_musica INT REFERENCES musicas(id),
    PRIMARY KEY (id_playlist, id_musica)
);